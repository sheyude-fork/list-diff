/**
     * @wangdahoo/list-diff
     * @version 0.1.5 | 2020-02-07 00:25:31
     * @author  wangdahoo
     * @license MIT
     */
    !function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ListDiff=e()}}(function(){var e,t={};Object.defineProperty(t,"__esModule",{value:!0}),(e=t.PatchType||(t.PatchType={})).ADD="ADD",e.DELETE="DELETE",e.REPOSITION="REPOSITION";var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.difference=((e,t)=>e.reduce((e,n,i)=>e.concat(-1===t.indexOf(n)?[{value:n,index:i}]:[]),[])),n.intersection=((e,t)=>e.reduce((e,n,i)=>{const r=t.indexOf(n);return e.concat(r>-1&&r!=i?[{value:n,index:r}]:[])},[]));var i={};Object.defineProperty(i,"__esModule",{value:!0}),i.listDiff=((e,i)=>{let r=[];const c=n.difference(e,i),a=n.difference(i,e),p=n.intersection(e,i).reverse();r=c.reduce((e,{value:n})=>e.concat([{type:t.PatchType.DELETE,id:n}]),r);const f=t=>{for(;t>0&&-1===e.indexOf(i[t-1]);)t--;return t>0?i[t-1]:""};return r=p.reduce((e,{value:n,index:i})=>e.concat([{type:t.PatchType.REPOSITION,id:n,after:f(i)}]),r),a.reduce((e,{value:n,index:r})=>e.concat([{type:t.PatchType.ADD,id:n,after:r>0?i[r-1]:""}]),r)});var r={};Object.defineProperty(r,"__esModule",{value:!0}),r.applyPatches=((e,n,i=new c)=>{let r=e;for(let c=0;c<n.length;c++){const e=n[c];switch(e.type){case t.PatchType.ADD:r=i.applyAdditon(r,e);break;case t.PatchType.DELETE:r=i.applyDeletion(r,e);break;case t.PatchType.REPOSITION:r=i.applyRepostion(r,e)}}return r});class c{applyDeletion(e,n){if(n.type!==t.PatchType.DELETE)return e;const{id:i}=n;return e.filter(e=>e!==i)}applyRepostion(e,n){if(n.type!==t.PatchType.REPOSITION)return e;const{id:i,after:r}=n;if(""===r)return e[0]===i?e:(e=e.filter(e=>e!==i),[i,...e]);{const t=e.indexOf(i);return e[t-1]===r?e:e.reduce((e,t)=>(t!==i&&(e.push(t),t===r&&e.push(i)),e),[])}}applyAdditon(e,n){if(n.type!==t.PatchType.ADD)return e;const{id:i,after:r}=n;if(""===r)return[i,...e];const c=e.indexOf(r);return[...e.slice(0,c+1),i,...e.slice(c+1)]}}r.SimpleTinker=c;var a={};return Object.defineProperty(a,"__esModule",{value:!0}),a.PatchType=t.PatchType,a.listDiff=i.listDiff,a.applyPatches=r.applyPatches,a.SimpleTinker=r.SimpleTinker,a});
//# sourceMappingURL=list-diff.js.map