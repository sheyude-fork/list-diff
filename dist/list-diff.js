/**
     * @wangdahoo/list-diff
     * @version 0.1.5 | 2020-02-07 00:25:29
     * @author  wangdahoo
     * @license MIT
     */
    !function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ListDiff=e()}}(function(){var e,t={};Object.defineProperty(t,"__esModule",{value:!0}),(e=t.PatchType||(t.PatchType={})).ADD="ADD",e.DELETE="DELETE",e.REPOSITION="REPOSITION";var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.difference=function(e,t){return e.reduce(function(e,n,r){return e.concat(-1===t.indexOf(n)?[{value:n,index:r}]:[])},[])},n.intersection=function(e,t){return e.reduce(function(e,n,r){var i=t.indexOf(n);return e.concat(i>-1&&i!=r?[{value:n,index:i}]:[])},[])};var r={};Object.defineProperty(r,"__esModule",{value:!0}),r.listDiff=function(e,r){var i=[],f=n.difference(e,r),a=n.difference(r,e),u=n.intersection(e,r).reverse();i=f.reduce(function(e,n){var r=n.value;return e.concat([{type:t.PatchType.DELETE,id:r}])},i);var o=function(t){for(;t>0&&-1===e.indexOf(r[t-1]);)t--;return t>0?r[t-1]:""};return i=u.reduce(function(e,n){var r=n.value,i=n.index;return e.concat([{type:t.PatchType.REPOSITION,id:r,after:o(i)}])},i),a.reduce(function(e,n){var i=n.value,f=n.index;return e.concat([{type:t.PatchType.ADD,id:i,after:f>0?r[f-1]:""}])},i)};var i={},f=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var f=arguments[t],a=0,u=f.length;a<u;a++,i++)r[i]=f[a];return r};Object.defineProperty(i,"__esModule",{value:!0}),i.applyPatches=function(e,n,r){void 0===r&&(r=new a);for(var i=e,f=0;f<n.length;f++){var u=n[f];switch(u.type){case t.PatchType.ADD:i=r.applyAdditon(i,u);break;case t.PatchType.DELETE:i=r.applyDeletion(i,u);break;case t.PatchType.REPOSITION:i=r.applyRepostion(i,u)}}return i};var a=function(){function e(){}return e.prototype.applyDeletion=function(e,n){if(n.type!==t.PatchType.DELETE)return e;var r=n.id;return e.filter(function(e){return e!==r})},e.prototype.applyRepostion=function(e,n){if(n.type!==t.PatchType.REPOSITION)return e;var r=n.id,i=n.after;if(""===i)return e[0]===r?e:(e=e.filter(function(e){return e!==r}),f([r],e));var a=e.indexOf(r);return e[a-1]===i?e:e.reduce(function(e,t){return t!==r&&(e.push(t),t===i&&e.push(r)),e},[])},e.prototype.applyAdditon=function(e,n){if(n.type!==t.PatchType.ADD)return e;var r=n.id,i=n.after;if(""===i)return f([r],e);var a=e.indexOf(i);return f(e.slice(0,a+1),[r],e.slice(a+1))},e}();i.SimpleTinker=a;var u={};return Object.defineProperty(u,"__esModule",{value:!0}),u.PatchType=t.PatchType,u.listDiff=r.listDiff,u.applyPatches=i.applyPatches,u.SimpleTinker=i.SimpleTinker,u});
//# sourceMappingURL=list-diff.js.map